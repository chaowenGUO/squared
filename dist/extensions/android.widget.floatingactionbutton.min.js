this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const{parseColor:t}=squared.lib.color,{assignEmptyValue:e,safeNestedMap:o}=squared.lib.util,{adjustAbsolutePaddingOffset:a,createViewAttribute:i,getHorizontalBias:r,getVerticalBias:n}=android.lib.util,{BOX_STANDARD:l,NODE_PROCEDURE:d,NODE_RESOURCE:s,NODE_TEMPLATE:c}=squared.base.lib.enumeration,{EXT_ANDROID:g,SUPPORT_ANDROID:u,SUPPORT_ANDROID_X:y}=android.lib.constant,{BUILD_ANDROID:m,CONTAINER_NODE:p}=android.lib.enumeration,f=android.base.Resource,_=["button","file","image","reset","search","submit"];class FloatingActionButton extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||_.includes(e.type))}condition(t){return this.included(t.element)}processNode(l,c){const m=this.resource,_=l.element,T=l.target,b=i(this.options[_.id.trim()]),N=f.addColor(t(l.css("backgroundColor"),l.toFloat("opacity",1)));if(e(b,"android","backgroundTint",""!==N?"@color/"+N:"?attr/colorAccent"),!l.hasProcedure(d.ACCESSIBILITY))e(b,"android","focusable","false");let O;switch(_.tagName){case"IMG":O=m.addImageSrc(_,"ic_dialog_");break;case"INPUT":if("image"===_.type){O=m.addImageSrc(_,"ic_dialog_");break}case"BUTTON":O=m.addImageSrc(l.backgroundImage,"ic_dialog_");break}if(O)e(o(b,"app"),"srcCompat","@drawable/"+O);const v=l.api<29?u.FLOATING_ACTION_BUTTON:y.FLOATING_ACTION_BUTTON;if(l.setControlType(v,p.BUTTON),l.exclude({resource:s.BOX_STYLE|s.ASSET}),f.formatOptions(b,this.application.extensionManager.optionValueAsBoolean(g.RESOURCE_STRINGS,"numberResourceValue")),!l.pageFlow){const t=this.application.resolveTarget(l.sessionId,T)||c;if(l.autoMargin.leftRight)l.mergeGravity("layout_gravity","center_horizontal");else if(l.hasPX("left"))l.mergeGravity("layout_gravity",l.localizeString("left")),l.modifyBox(8,a(t,128,l.left));else if(l.hasPX("right"))l.mergeGravity("layout_gravity",l.localizeString("right")),l.modifyBox(2,a(t,32,l.right));if(l.autoMargin.topBottom)l.mergeGravity("layout_gravity","center_vertical");else if(l.hasPX("top"))l.app("layout_dodgeInsetEdges","top"),l.mergeGravity("layout_gravity","top"),l.modifyBox(1,a(t,16,l.top));else if(l.hasPX("bottom"))l.mergeGravity("layout_gravity","bottom"),l.modifyBox(4,a(t,64,l.bottom));l.positioned=true}else if(T){const t=l.documentParent.box,e=l.linear,o=r(l),a=n(l);if(o<.5)l.mergeGravity("layout_gravity",l.localizeString("left")),l.modifyBox(8,e.left-t.left);else if(o>.5)l.mergeGravity("layout_gravity",l.localizeString("right")),l.modifyBox(2,t.right-e.right);else l.mergeGravity("layout_gravity","center_horizontal");if(a<.5)l.app("layout_dodgeInsetEdges","top"),l.mergeGravity("layout_gravity","top"),l.modifyBox(1,e.top-t.top);else if(a>.5)l.mergeGravity("layout_gravity","bottom"),l.modifyBox(4,t.bottom-e.bottom);else l.mergeGravity("layout_gravity","center_vertical");l.positioned=true}if(T){const t=l.android("layout_gravity");let e=c.documentId;if(c.controlName===(l.api<29?u.TOOLBAR:y.TOOLBAR)){const t=c.data("android.widget.toolbar","outerParent");if(t)e=t}if(""!==t)l.app("layout_anchorGravity",t),l.delete("android","layout_gravity");l.app("layout_anchor",e),l.exclude({procedure:d.ALIGNMENT})}return l.render(c),l.apply(b),{output:{type:1,node:l,controlName:v},complete:true}}}const T=new FloatingActionButton("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);if(squared)squared.include(T);return T}();
